<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Lesson 3 | Android Workshop for Beginners</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="dutchaug">
        <meta name="description" content="Thanks for your interest in this Android Workshop for Beginners! This page is heads-up what the workshop is all about and to lay out the prerequisites 
to setup your Android development environment.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../section4/README.html" />
        
        
        <link rel="prev" href="../section2/README.html" />
        

        <meta property="og:title" content="Lesson 3 | Android Workshop for Beginners">
        <meta property="og:site_name" content="Android Workshop for Beginners">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/dutchaug">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="dutchaug/beginners-workshop" data-level="3" data-basepath=".." data-revision="1399294275009">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/dutchaug/beginners-workshop" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/dutchaug/beginners-workshop/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/dutchaug/beginners-workshop/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >Android Workshop for Beginners</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/dutchaug" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/dutchaug/beginners-workshop/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/dutchaug/beginners-workshop/edit/master/section3/README.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="section1/README.html">
                
                <a href="../section1/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> Lesson 1
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="section2/README.html">
                
                <a href="../section2/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Lesson 2
                </a>
                
                
            </li>
        
            <li  data-level="3" data-path="section3/README.html">
                
                <a href="../section3/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Lesson 3
                </a>
                
                
            </li>
        
            <li  data-level="4" data-path="section4/README.html">
                
                <a href="../section4/README.html">
                    <i class="fa fa-check"></i> <b>4.</b> Lesson 4
                </a>
                
                
            </li>
        
            <li  data-level="5" data-path="section5/README.html">
                
                <a href="../section5/README.html">
                    <i class="fa fa-check"></i> <b>5.</b> Lesson 5
                </a>
                
                
            </li>
        
            <li  data-level="6" data-path="cheatsheet.html">
                
                <a href="../cheatsheet.html">
                    <i class="fa fa-check"></i> <b>6.</b> Cheatsheet
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 50%;min-width: 33.333333333333336%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../section1/README.html" title="Lesson 1" class="chapter done new-chapter" data-progress="1" style="left: 16.666666666666668%;"></a>
    
        <a href="../section2/README.html" title="Lesson 2" class="chapter done new-chapter" data-progress="2" style="left: 33.333333333333336%;"></a>
    
        <a href="../section3/README.html" title="Lesson 3" class="chapter done new-chapter" data-progress="3" style="left: 50%;"></a>
    
        <a href="../section4/README.html" title="Lesson 4" class="chapter  new-chapter" data-progress="4" style="left: 66.66666666666667%;"></a>
    
        <a href="../section5/README.html" title="Lesson 5" class="chapter  new-chapter" data-progress="5" style="left: 83.33333333333333%;"></a>
    
        <a href="../cheatsheet.html" title="Cheatsheet" class="chapter  new-chapter" data-progress="6" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_5">
                    
                        <h1 id="lesson-3-br-intents-tasks-and-the-activity-back-stack">Lesson 3<br/>Intents, Tasks and the Activity Back Stack</h1>
<h2 id="what-you-ll-learn-in-this-lesson">What you&#39;ll learn in this lesson</h2>
<ul>
<li>Basic understanding of tasks and the <em>activity back stack</em></li>
<li>Move from one <strong>Activity</strong> to another with <em>explicit</em> and <em>implicit</em> <strong>Intents</strong></li>
</ul>
<p>If you know all about the learning goals for this lesson move on to <a href="../section4/README.html">lesson 4</a></p>
<h2 id="introduction">Introduction</h2>
<p>An application usually contains multiple activities. Each activity should be designed around a specific kind of action the user can perform and can start other activities. For example, an email application might have one activity to show a list of new email. When the user selects an email, a new activity opens to view that email.</p>
<p>An activity can even start activities that exist in other applications on the device. For example, if your application wants to send an email, you can define an intent to perform a &quot;sendto&quot; action and include some data, such as an email address and a message. An activity from another application that declares itself to handle this kind of intent then opens. In this case, the intent is to send an email, so an email application&#39;s &quot;compose&quot; activity starts.</p>
<p><img src="img/sendto_action_chooser_dialog.png" alt="Send to action chooser dialog"></p>
<blockquote>
<p><strong>Figure 1</strong>. If multiple activities support the same intent, then the system lets the user select which one to use. </p>
</blockquote>
<p>When the email is sent, your activity resumes and it seems as if the email activity was part of your application. Even though the activities may be from different applications, Android maintains this seamless user experience by keeping both activities in the same task.</p>
<blockquote>
<p><strong>Task</strong> A <em>task</em> is a collection of activities that users interact with when performing a certain job. The activities are arranged in a stack (the &quot;back stack&quot;), in the order in which each activity is opened.</p>
</blockquote>
<p>The device Home screen is the starting place for most tasks. When the user touches an icon in the application launcher (or a shortcut on the Home screen), that application&#39;s task comes to the foreground. If no task exists for the application (the application has not been used recently), then a new task is created and the &quot;main&quot; activity for that application opens as the root activity in the stack.</p>
<p>When the current activity starts another, the new activity is pushed on the top of the stack and takes focus. The previous activity remains in the stack, but is stopped. When an activity stops, the system retains the current state of its user interface. When the user presses the Back button, the current activity is popped from the top of the stack (the activity is destroyed) and the previous activity resumes (the previous state of its UI is restored). Activities in the stack are never rearranged, only pushed and popped from the stack—pushed onto the stack when started by the current activity and popped off when the user leaves it using the Back button. As such, the back stack operates as a &quot;last in, first out&quot; object structure. Figure 2 visualizes this behavior with a timeline showing the progress between activities along with the current back stack at each point in time.</p>
<p><img src="img/diagram_backstack.png" alt="Diagram Backstack"></p>
<blockquote>
<p><strong>Figure 2</strong>. A representation of how each new activity in a task adds an item to the back stack. When the user presses the Back button, the current activity is destroyed and the previous activity resumes.</p>
</blockquote>
<p>If the user continues to press Back, then each activity in the stack is popped off to reveal the previous one, until the user returns to the Home screen (or to whichever activity was running when the task began). When all activities are removed from the stack, the task no longer exists.</p>
<p><a href="http://developer.android.com/guide/components/tasks-and-back-stack.html" target="_blank">More info</a></p>
<h2 id="intents">Intents</h2>
<p>An Intent is a messaging object you can use to request an action from another app component. </p>
<p>An Activity represents a single screen in an app. You can start a new instance of an Activity by passing an <strong>Intent</strong> to <strong>startActivity()</strong>. The Intent <em>describes</em> the activity to start and carries any necessary data. </p>
<h3 id="explicit-intents">Explicit intents</h3>
<p>When working within your own application, you&#39;ll often need to simply launch a known activity. You can do so by creating an intent that explicitly defines the activity you want to start, using the class name. For example, here&#39;s how one activity starts another activity named SignInActivity:</p>
<pre><code class="lang-java">Intent intent = <span class="hljs-keyword">new</span> Intent(<span class="hljs-keyword">this</span>, SignInActivity.class);
startActivity(intent);
</code></pre>
<h3 id="implicit-intents">Implicit intents</h3>
<p>However, your application might also want to perform some action, such as send an email, text message, or status update, using data from your activity. In this case, your application might not have its own activities to perform such actions, so you can instead leverage the activities provided by other applications on the device, which can perform the actions for you. This is where intents are really valuable—you can create an intent that describes an action you want to perform and the system launches the appropriate activity from another application. If there are multiple activities that can handle the intent, then the user can select which one to use. </p>
<p>For example, if you want to allow the user to send an email message, you can create the following intent:</p>
<pre><code class="lang-java">Intent intent = <span class="hljs-keyword">new</span> Intent(Intent.ACTION_SENDTO, Uri.parse(<span class="hljs-string">"mailto:info@dutchaug.org"</span>+));
intent.putExtra(Intent.EXTRA_SUBJECT, <span class="hljs-string">"Hi there!"</span>);
intent.putExtra(Intent.EXTRA_TEXT, <span class="hljs-string">"This is the e-mail body"</span>);
startActivity(Intent.createChooser(intent, <span class="hljs-string">"Send mail..."</span>));
</code></pre>
<p> When an email application responds to this intent, it reads the strings provided in the extras and places them in the appropriate fields of the email composition form. In this situation, the email application&#39;s activity starts and when the user is done, your activity resumes.</p>
<p><a href="http://developer.android.com/guide/components/activities.html" target="_blank">More Info</a></p>
<h2 id="exercise">Exercise</h2>
<p><img src="img/todo.png" alt="TO DO"></p>
<ol>
<li>Import the <a href="sample03">sample03</a> project in Android Studio</li>
<li>Click on the TODO Tool View double click on the <code>TODO Exercise 03.01</code> item.</li>
<li>Implement the following code: <ul>
<li>Retrieve the e-mail address and subject from their EditText views.</li>
<li>Create an <em>explicit</em> intent to the <strong>SecondActivity</strong> and pass the retrieved e-mail address and -subject in an intent extra.</li>
</ul>
</li>
<li>Click on the TODO Tool View double click on the <code>TODO Exercise 03.02</code> item.</li>
<li>Implement the following code: <ul>
<li>Retrieve the e-mail message from the <strong>EditText</strong> view.</li>
<li>Create an implicit intent to send an e-mail and pass the retrieved e-mail address, subject and message in an intent extra.</li>
</ul>
</li>
<li>On the command line type <code>adb shell dumpsys activity</code> and try to interpret the output.</li>
</ol>
<blockquote>
<p>Notice that you don&#39;t need any special permissions to use implicit intents to chain another activity to task. You are basically leaving the end user in control of how and what will be done with their data. They can simply cancel the e-mail composition by pressing the back button. If you want to send e-mail directly from your app, without user intervention you must at least request the <a href="http://developer.android.com/reference/android/Manifest.permission.html#INTERNET" target="_blank">INTERNET</a> persmission and do all the SMTP preparing and sending yourself. <a href="http://mobiledevtuts.com/android/android-sdk-smtp-email-tutorial/" target="_blank">Here</a>&#39;s a tutorial which uses <a href="https://code.google.com/p/javamail-android/" target="_blank">JavaMail for Android</a> to achieve this task.</p>
</blockquote>
<h2 id="conclusion">Conclusion</h2>
<p>Using <em>implicit</em> and <em>explicit</em> <strong>Intents</strong> wisely will transform your app into an efficient way to perform a certain <strong>Task</strong>. Don&#39;t invent the wheel if somebody else, or a system activity can do this step in the task for you! On to <a href="../section4/README.html">lesson 4</a> where you will learn about a very frequenlty used <strong>View</strong> the <strong>ListView</strong>.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../section2/README.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../section4/README.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
