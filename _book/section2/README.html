<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Lesson 2 | Android Workshop for Beginners</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="dutchaug">
        <meta name="description" content="Thanks for your interest in this Android Workshop for Beginners! This page is heads-up what the workshop is all about and to lay out the prerequisites 
to setup your Android development environment.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../section3/README.html" />
        
        
        <link rel="prev" href="../section1/README.html" />
        

        <meta property="og:title" content="Lesson 2 | Android Workshop for Beginners">
        <meta property="og:site_name" content="Android Workshop for Beginners">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/dutchaug">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="dutchaug/beginners-workshop" data-level="2" data-basepath=".." data-revision="1399294275009">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/dutchaug/beginners-workshop" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/dutchaug/beginners-workshop/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/dutchaug/beginners-workshop/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >Android Workshop for Beginners</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/dutchaug" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/dutchaug/beginners-workshop/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/dutchaug/beginners-workshop/edit/master/section2/README.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="section1/README.html">
                
                <a href="../section1/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> Lesson 1
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="section2/README.html">
                
                <a href="../section2/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Lesson 2
                </a>
                
                
            </li>
        
            <li  data-level="3" data-path="section3/README.html">
                
                <a href="../section3/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Lesson 3
                </a>
                
                
            </li>
        
            <li  data-level="4" data-path="section4/README.html">
                
                <a href="../section4/README.html">
                    <i class="fa fa-check"></i> <b>4.</b> Lesson 4
                </a>
                
                
            </li>
        
            <li  data-level="5" data-path="section5/README.html">
                
                <a href="../section5/README.html">
                    <i class="fa fa-check"></i> <b>5.</b> Lesson 5
                </a>
                
                
            </li>
        
            <li  data-level="6" data-path="cheatsheet.html">
                
                <a href="../cheatsheet.html">
                    <i class="fa fa-check"></i> <b>6.</b> Cheatsheet
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 33.333333333333336%;min-width: 16.666666666666668%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../section1/README.html" title="Lesson 1" class="chapter done new-chapter" data-progress="1" style="left: 16.666666666666668%;"></a>
    
        <a href="../section2/README.html" title="Lesson 2" class="chapter done new-chapter" data-progress="2" style="left: 33.333333333333336%;"></a>
    
        <a href="../section3/README.html" title="Lesson 3" class="chapter  new-chapter" data-progress="3" style="left: 50%;"></a>
    
        <a href="../section4/README.html" title="Lesson 4" class="chapter  new-chapter" data-progress="4" style="left: 66.66666666666667%;"></a>
    
        <a href="../section5/README.html" title="Lesson 5" class="chapter  new-chapter" data-progress="5" style="left: 83.33333333333333%;"></a>
    
        <a href="../cheatsheet.html" title="Cheatsheet" class="chapter  new-chapter" data-progress="6" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_4">
                    
                        <h1 id="lesson-02-br-activities-and-views">Lesson 02<br/>Activities and Views</h1>
<h2 id="what-you-ll-learn-in-this-lesson">What you&#39;ll learn in this lesson</h2>
<ul>
<li>Working with Activities, and get basic understanding of the Activity Life Cycle</li>
<li>Learn about common Views or <em>widgets</em> and how to add them to an Activity</li>
<li>Learn how to interact with these views in your code.</li>
<li>Learn how to <em>listen</em> to a click event.</li>
</ul>
<p>If you know all about the learning goals for this lesson move on to <a href="../section3/README.html">lesson 3</a></p>
<h2 id="activities">Activities</h2>
<p>An activity usually is a full Android screen that a user sees or interacts with. The <code>onCreate</code> method you saw in the MainActivity in lesson 1 is what we call a <em>life cycle callback</em> method and this gives you a hook where you can initialize your activity when the Android system decides it is time to show your activity to the user. The <a href="http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle" target="_blank">Activity life cycle</a> is very important and deserves good understanding when you are planning to do more Android development after this workshop.</p>
<h2 id="the-mainactivity-launch-intent-filter">The MainActivity launch intent filter</h2>
<p>When the user selects your app icon from the Home screen, the system calls the <code>onCreate()</code> method for the Activity in your app that you&#39;ve declared to be the &quot;launcher&quot; (or &quot;main&quot;) activity. This is the activity that serves as the main entry point to your app&#39;s user interface.</p>
<p>You can define which activity to use as the main activity in the Android manifest file, AndroidManifest.xml, which is at the root of your project directory.</p>
<p>The main activity for your app must be declared in the AndroidManifest.xml file with an <code>&lt;intent-filter&gt;</code> that includes the MAIN action and LAUNCHER category. For example:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">activity
</span>        <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"@string/app_name"</span>
        <span class="hljs-attribute">android:name</span>=<span class="hljs-value">".MainActivity"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.MAIN"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.LAUNCHER"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span>
</code></pre>
<p>If either the MAIN action or LAUNCHER category are not declared for one of your activities, then your app icon will not appear in the Home screen&#39;s list of apps.</p>
<h2 id="the-activity-life-cycle">The Activity Life Cycle</h2>
<p>During the life of an activity, the system calls a core set of lifecycle methods in a sequence similar to a step pyramid. That is, each stage of the activity lifecycle is a separate step on the pyramid. As the system creates a new activity instance, each callback method moves the activity state one step toward the top. The top of the pyramid is the point at which the activity is running in the foreground and the user can interact with it.</p>
<p>As the user begins to leave the activity, the system calls other methods that move the activity state back down the pyramid in order to dismantle the activity. In some cases, the activity will move only part way down the pyramid and wait (such as when the user switches to another app), from which point the activity can move back to the top (if the user returns to the activity) and resume where the user left off.</p>
<p><img src="img/basic-lifecycle.png" alt="The Activity Life Cycle"></p>
<blockquote>
<p><strong>Figure 1</strong>.  A simplified illustration of the Activity lifecycle, expressed as a step pyramid. This shows how, for every callback used to take the activity a step toward the Resumed state at the top, there&#39;s a callback method that takes the activity a step down. The activity can also return to the resumed state from the Paused and Stopped state.</p>
</blockquote>
<h3 id="using-logcat">Using logcat</h3>
<p>The Android logging system provides a mechanism for collecting and viewing system debug output. Logs from various applications and portions of the system are collected in a series of circular buffers, which then can be viewed and filtered by the <code>adb logcat</code> command, or directly from Android Studio by pressing the <img src="img/android-toolbar-quickpick.png" alt="Android Toolbar quick pick"> button on the control bar at the bottom or selecting <strong>View | Tool Windows | Android</strong> from the menu. <a href="http://developer.android.com/tools/debugging/debugging-log.html" target="_blank">More info</a></p>
<p><img src="img/menu-view-toolwindows-android.png" alt="Selecting the Android tool window from the menu"></p>
<p>A good way to keep an eye on <em>which</em> life cycle method is called <em>when</em> is to simple create a log statement in the life cycle method overrides. For example in the <code>onCreate</code> method.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(Bundle savedInstanceState) {
    Log.d(TAG, <span class="hljs-string">"onCreate"</span>);
    <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
}
</code></pre>
<p>You simply call a log-level static method (d, which stands for <em>debug</em>) where <code>TAG</code> is a (class) constant with a String you can filter on in your logcat session and the &quot;onCreate&quot; string reprisents the log message in this example. Some people use a single TAG for the whole application, but most use the following construct to create a unique tag for every class.</p>
<pre><code class="lang-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String TAG = MainActivity.class.getSimpleName();
</code></pre>
<p>You can add your TAG in the filter box in the Android tool window, or view the logcat output with the following adb command in a terminal</p>
<pre><code>&gt; adb logcat MainActivity:* *:S
</code></pre><p>The parameters after the locgat statement are <em>filters</em> in the form [TAG]:[log-level]. I.e. <code>MainActivity:I</code> will only show <em>information</em> messages and higher and <code>MainActivity:*</code> will show all log-level outputs for the <code>MainActivity</code> tag. THe <code>*:S</code> filter says to <em>silence</em> all the other output. It is advisable to also add a <code>AndroidRuntime:*</code> filter as this will show you relevant information from the Android system as well as exceptions that are generated by your application but caught by the platform.</p>
<p>If you are just interested in which methods are called when, you can just use Jake Wharton&#39;s <a href="https://github.com/JakeWharton/hugo" target="_blank">Hugo</a> library.</p>
<p>Add this to your build.gradle file</p>
<pre><code>buildscript {
  dependencies {
    classpath &#39;com.jakewharton.hugo:hugo-plugin:1.0.1&#39;
  }
}

apply plugin: &#39;android&#39;
apply plugin: &#39;hugo&#39;
</code></pre><p>And than add the <code>@DebugLog</code> annotation to any method you want to <em>debug log</em>.</p>
<p>A couple of the Activity life cycle methods in the <a href="sample02/lifecyclelogger/src/main/java/org/dutchaug/workshop/beginners/lifecyclelogger/MainActivity.java">MainActivity</a> in <a href="sample02">sample02</a> are annotated with the <code>@DebugLog</code> annotation. Take that project for a spin to get a grasp of how your activity is managed by the system. Tip, rotate your device and see what happens. Can you explain why this happens?</p>
<h2 id="exercises">Exercises</h2>
<h3 id="adding-new-views-to-the-layout">Adding new views to the layout</h3>
<p>Open the <a href="sample02/lifecyclelogger/src/main/res/layout/activity_main.xml">activity_main.xml</a> file in the <a href="sample02">sample02</a> project in Android Studio and click on the <strong>Design</strong> tab next to the <strong>Text</strong> tab below. You should see something like this.</p>
<p><img src="img/as-design-tool-view.png" alt="Android Design Tool View"></p>
<blockquote>
<p>Android Design Tool View</p>
</blockquote>
<p>On the left you see a long list of <strong>Views</strong> or <em>widgets</em>. Grab a <strong>Person Name</strong> from the <strong>Text Fields</strong> section and place it under the <strong>TextView</strong> view. Grab a <strong>Button</strong> from the <strong>Widgets</strong> section and place it under the <strong>EditText</strong> view.</p>
<h3 id="referencing-views-in-the-layout-in-your-code">Referencing views in the layout in your code</h3>
<p>To get a reference to the views in the layout in your code you can create a resource-id for every view you want to interact with. Creating an id is done by adding an <strong>android:id</strong> attribute to the views and giving them an (e.g.) <strong>@+id/uniquenameforyourview</strong> value. The &quot;@&quot;-sign identifies a resource (we already saw references to string resources via <strong>@string/app_name</strong> for instance). The &quot;+&quot;-sign just before the <strong>id</strong> indicates we want to <em>create</em> and id. If we forget the &quot;+&quot;-sign the <strong>@id/uniquenameforyourview</strong> becomes a <em>reference</em>.</p>
<p>Go ahead and add <strong>android:id</strong> attributes to the <strong>TextView</strong>, <strong>EditText</strong> and <strong>Button</strong> views in the <a href="sample02/lifecyclelogger/src/main/res/layout/activity_main.xml">activity_main.xml</a> file.</p>
<p>Now open the <a href="sample02/lifecyclelogger/src/main/java/org/dutchaug/workshop/beginners/lifecyclelogger/MainActivity.java">MainActivity</a> file in Android Studio. When our acitivity is created (in <strong>onCreate</strong>) and our contentView is set the layout in the XML file gets <em>inflated</em> by the Android System. This basically means whatever is in the XML file will be used to create a <em>View hierarchy</em> of plain Java objects we can interact with in our code. We can only create references to our views in the layout, if they have a proper <strong>id</strong>. We can reference them by calling the <strong>findViewById(int id)</strong> method like this.</p>
<pre><code class="lang-java">TextView textView = (TextView) findViewById(R.id.uniquenameforyourview);
</code></pre>
<p>Go ahead and hook-up all the views in the <strong>onCreate</strong> method in <a href="sample02/lifecyclelogger/src/main/java/org/dutchaug/workshop/beginners/lifecyclelogger/MainActivity.java">MainActivity</a>. Make <em>fields</em> out of the view references while you are at it, so you can reference them from other methods in your class (not just the onCreate method).</p>
<h3 id="interacting-with-the-views">Interacting with the views</h3>
<p>You can <a href="http://developer.android.com/reference/android/view/View.html#setOnClickListener(android.view.View.OnClickListener" target="_blank">click on any view</a>) in Android, but <strong>Buttons</strong> are, of course, the ideal things to click on. You can listen to a button click by implementing- and adding a <strong>View.OnCLickListener</strong> to your button.</p>
<pre><code class="lang-java">button.setOnClickListener(<span class="hljs-keyword">this</span>);
</code></pre>
<p>What we are saying here is that our <strong>MainActivity</strong> should implement the <strong>View.OnCLickListener</strong> interface. If you have added the above line in your <strong>onCreate* method you&#39;ll see a red curly line under the </strong>this<strong> reference. Move your cursor on the </strong>this<strong> keyword and press </strong>alt-enter<strong>. Select the second option. You are then prompted to implement the </strong>onClick** method, which is just what we need</p>
<p><img src="img/as-quick-fix.png" alt="Android Studio quick-fix"></p>
<p>Now in the <strong>onClick(View v)</strong> method try to read the value from the <strong>EditText</strong> reference and use that value to update the <strong>TextView</strong> reference.</p>
<h3 id="change-the-app-icon">Change the app icon</h3>
<p>By default you get this standard app launch icon for new Android projects</p>
<p><img src="img/ic_launcher.png" alt="Default launch icon"></p>
<blockquote>
<p>Default launch icon</p>
</blockquote>
<p>Use the <a href="http://android-ui-utils.googlecode.com/hg/asset-studio/dist/icons-launcher.html#foreground.type=clipart&amp;foreground.space.trim=1&amp;foreground.space.pad=0&amp;foreground.clipart=res%2Fclipart%2Ficons%2Fsocial_send_now.svg&amp;foreColor=c00%2C0&amp;crop=0&amp;backgroundShape=bevel&amp;backColor=ffffff%2C100" target="_blank">Android Asset Studio</a> to create a new launch icon.</p>
<h3 id="change-the-activity-title">Change the Activity title</h3>
<p>The title of the MainActivity in <a href="sample02">sample02</a> is set via the <strong>android:label=&quot;@string/app_name&quot;</strong> attribute in the <a href="sample02/lifecyclelogger/src/main/AndroidManifest.xml">AndroidManifest.xml</a> file. Use another string and try to change the title of the MainActivity class in the <strong>onCreate</strong> method.</p>
<h3 id="change-the-background-color">Change the background color</h3>
<p>Try to change the background color of the MainActivity in the <a href="sample02/lifecyclelogger/src/main/res/layout/activity_main.xml">activity_main.xml</a> file.</p>
<h2 id="conclusion">Conclusion</h2>
<p>You&#39;ve learned how to add more Views to your layout and how to reference and interact with them in your code. You have seen methods to log (debug) statements to Android&#39;s logcat. On to <a href="../section3/README.html">lesson 3</a> where you will learn more about the activity back stack and how to move from one Activity to another with <em>explicit</em> and <em>implicit</em> <strong>Intents</strong>.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../section1/README.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../section3/README.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
